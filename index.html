<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SORA - Pixel Sky Hybrid</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');
        
        :root { 
            --sky-blue: #a3c1da; 
            --cloud-white: rgba(255, 255, 255, 0.9); 
            --accent-orange: #ff9e67; 
            --accent-green: #67a38b;
            --text-dark: #4a5568;
            --shadow: 0 8px 30px rgba(0,0,0,0.12);
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; width: 100%; 
            font-family: 'DotGothic16', "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif; 
            color: var(--text-dark); 
            overflow: hidden; 
        }

        .sky-bg { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background-color: var(--sky-blue); 
            background-size: cover;
            background-position: center;
            z-index: -1; 
        }

        /* è¨­å®šãƒ‘ãƒãƒ«å‘¨ã‚Š */
        .bg-settings { position: fixed; bottom: 20px; right: 20px; z-index: 10000; }
        .bg-btn { width: 44px; height: 44px; border-radius: 50%; border: 2px solid white; background: white; cursor: pointer; box-shadow: var(--shadow); font-size: 1.2rem; display: flex; align-items: center; justify-content: center; }
        .bg-panel { 
            position: absolute; bottom: 60px; right: 0; background: var(--cloud-white); 
            padding: 15px; border-radius: 15px; box-shadow: var(--shadow); display: none; 
            backdrop-filter: blur(10px); width: 210px; border: 1px solid white;
        }
        .color-dots { display: flex; gap: 8px; justify-content: center; margin-bottom: 5px; flex-wrap: wrap; }
        .dot { width: 34px; height: 34px; border-radius: 50%; cursor: pointer; border: 2px solid #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .hint-text { font-size: 0.6rem; color: #888; margin-bottom: 10px; text-align: center; }
        .custom-color-wapper { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 12px; font-size: 0.8rem; }
        #color-picker { border: none; width: 30px; height: 30px; cursor: pointer; background: none; }

        /* UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ */
        #progress { position: fixed; top: 0; left: 0; height: 6px; background: var(--accent-orange); z-index: 1000; transition: width 0.4s ease; border-radius: 0 3px 3px 0; }
        .viewport { display: flex; height: 100%; width: 100%; transition: transform 0.5s cubic-bezier(0.2, 1, 0.3, 1); }
        .card { min-width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 15px; box-sizing: border-box; }
        
        .window { 
            background: var(--cloud-white); 
            backdrop-filter: blur(12px); 
            border-radius: 20px; padding: 20px; width: 100%; max-width: 320px; 
            text-align: center; box-shadow: var(--shadow); border: 1px solid rgba(255, 255, 255, 0.6); 
            height: 340px; /* å›ºå®šã‚µã‚¤ã‚º */
            display: flex; flex-direction: column; justify-content: space-between;
            box-sizing: border-box;
        }

        h2 { font-size: 1.0rem; margin-top: 0; margin-bottom: 10px; flex-shrink: 0; }
        
        .inventory-grid { 
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; 
            overflow-y: auto; padding: 4px; flex-grow: 1;
            -webkit-overflow-scrolling: touch; 
        }
        .inventory-grid::-webkit-scrollbar { display: none; }

        .item-chip { 
            background: white; border: 2px solid transparent; border-radius: 10px; 
            padding: 8px 4px; font-size: 0.8rem; cursor: pointer; transition: 0.2s; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: flex; align-items: center; 
            justify-content: center; min-height: 44px; box-sizing: border-box;
        }
        .item-chip:active { transform: scale(0.95); }
        .item-chip.selected { background: var(--accent-orange); color: white; }

        .slot-container { position: relative; height: 120px; overflow: hidden; margin: 5px 0; background: rgba(0,0,0,0.05); border-radius: 12px; flex-shrink: 0; }
        .slot-reel { transition: transform 0.3s ease-out; }
        .slot-item { height: 40px; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; color: #888; }
        .slot-item.active { color: var(--text-dark); font-weight: bold; font-size: 1.1rem; }
        .slot-overlay { position: absolute; top: 40px; left: 0; width: 100%; height: 40px; pointer-events: none; border-top: 1px solid rgba(0,0,0,0.1); border-bottom: 1px solid rgba(0,0,0,0.1); background: rgba(255, 158, 103, 0.05); }

        .btn-main { width: 100%; margin-top: 10px; padding: 12px; background: var(--text-dark); color: white; border: none; border-radius: 10px; font-family: inherit; font-size: 0.9rem; box-shadow: 0 4px 0 #222; cursor: pointer; flex-shrink: 0; }
        .btn-main:active { transform: translateY(2px); box-shadow: 0 2px 0 #222; }
        .btn-back { position: fixed; top: 15px; left: 15px; background: white; border: none; width: 40px; height: 40px; border-radius: 50%; z-index: 1001; display:none; box-shadow: var(--shadow); font-size: 1.1rem; cursor: pointer; }
        
        .free-input, textarea { width: 100%; border: 1px solid #ddd; border-radius: 10px; padding: 10px; margin-top: 8px; font-family: inherit; box-sizing: border-box; font-size: 0.85rem; outline: none; flex-shrink: 0; }
        textarea { height: 80px; resize: none; }
        #summary { font-size:0.8rem; text-align:left; background:rgba(0,0,0,0.05); padding:12px; border-radius:10px; overflow-y:auto; flex:1; margin-bottom:5px; line-height:1.5; }
    </style>
</head>
<body>
<div id="progress" style="width: 0%;"></div>
<button class="btn-back" id="btn-back" onclick="prev()">â†</button>

<div class="sky-bg" id="sky-bg"></div>

<div class="bg-settings">
    <div class="bg-panel" id="bg-panel">
        <div class="color-dots">
            <div class="dot" style="background-color: #a3c1da;" onclick="applyBG('default')"></div>
            <div id="p1" class="dot" onclick="applyBG(this.style.backgroundColor)" oncontextmenu="registerPreset('p1'); return false;"></div>
            <div id="p2" class="dot" onclick="applyBG(this.style.backgroundColor)" oncontextmenu="registerPreset('p2'); return false;"></div>
            <div id="p3" class="dot" onclick="applyBG(this.style.backgroundColor)" oncontextmenu="registerPreset('p3'); return false;"></div>
        </div>
        <div class="hint-text">é•·æŠ¼ã—ã§ç¾åœ¨ã®è‰²ã‚’ç™»éŒ²</div>
        <div class="custom-color-wapper">
            <span>ãˆã‚‰ã¶:</span>
            <input type="color" id="color-picker" value="#a3c1da" onchange="applyBG(this.value)">
        </div>
        <input type="file" id="bg-upload" accept="image/*" style="display:none" onchange="uploadBG(this)">
        <button class="btn-main" style="padding:8px; font-size:0.75rem; margin:0; box-shadow:none;" onclick="document.getElementById('bg-upload').click()">ç”»åƒã‚’ãˆã‚‰ã¶</button>
    </div>
    <button class="bg-btn" onclick="toggleBGPanel()">ğŸ¨</button>
</div>

<div class="viewport" id="viewport">
    <div class="card"><div class="window"><h2>â˜ï¸ ã ã‚Œã¨ ã‚ãã¶ï¼Ÿ</h2><div class="inventory-grid">
        <div class="item-chip" onclick="quickSave(1, 'ã²ã¨ã‚Š')">ã²ã¨ã‚Š</div>
        <div class="item-chip" onclick="quickSave(1, 'å½¼å¥³ã¨2äºº')">å½¼å¥³</div>
        <div class="item-chip" onclick="quickSave(1, 'å‹é”(2-4äºº)')">å‹é”</div> <div class="item-chip" onclick="quickSave(1, 'å‹é”(å¤§äººæ•°)')">å‹é”(å¤§äººæ•°)</div>
        <div class="item-chip" onclick="quickSave(1, 'ä¼šç¤¾')">ä¼šç¤¾</div>
    </div><input type="text" id="q1_free" class="free-input" placeholder="ãã®ã»ã‹å…¥åŠ›..." onkeydown="if(event.key==='Enter') save(1, this.value)"></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ãªã«ã‚’ ã—ãŸã„ï¼Ÿ</h2><div class="inventory-grid" id="q2_grid">
        <div class="item-chip" onclick="toggleItem(this, 'ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°')">ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°</div><div class="item-chip" onclick="toggleItem(this, 'ãƒ©ãƒ³ãƒ')">ãƒ©ãƒ³ãƒ</div>
        <div class="item-chip" onclick="toggleItem(this, 'ã‚«ãƒ•ã‚§')">ã‚«ãƒ•ã‚§</div><div class="item-chip" onclick="toggleItem(this, 'ãƒ‡ã‚£ãƒŠãƒ¼')">ãƒ‡ã‚£ãƒŠãƒ¼</div>
        <div class="item-chip" onclick="toggleItem(this, 'ãƒãƒ¼ã‚¿ã‚¤ãƒ ')">ãƒãƒ¼ã‚¿ã‚¤ãƒ </div><div class="item-chip" onclick="toggleItem(this, 'æ·±å¤œ')">æ·±å¤œ</div>
        <div class="item-chip" onclick="toggleItem(this, 'ã‚³ãƒ¼ãƒ’ãƒ¼(ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ)')">ã‚³ãƒ¼ãƒ’ãƒ¼(æŒã¡å¸°ã‚Š)</div><div class="item-chip" onclick="toggleItem(this, 'ãƒ‘ãƒ³')">ãƒ‘ãƒ³</div>
        <div class="item-chip" onclick="toggleItem(this, 'ã‚¹ã‚¤ãƒ¼ãƒ„ãƒ»ãŠè“å­')">ã‚¹ã‚¤ãƒ¼ãƒ„</div><div class="item-chip" onclick="toggleItem(this, 'ã‚¤ãƒ™ãƒ³ãƒˆ')">ã‚¤ãƒ™ãƒ³ãƒˆ</div>
        <div class="item-chip" onclick="toggleItem(this, 'éŠã³')">éŠã³</div><div class="item-chip" onclick="toggleItem(this, 'ã®ã‚“ã³ã‚Š')">ã®ã‚“ã³ã‚Š</div>
        <div class="item-chip" onclick="toggleItem(this, 'è¦³å…‰')">è¦³å…‰</div>
    </div><input type="text" id="q2_free" class="free-input" placeholder="ãã®ã»ã‹å…¥åŠ›..."><button class="btn-main" onclick="nextMulti()">ã“ã‚Œã§ã„ãï¼</button></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã©ã“ã¸ ã‚€ã‹ã†ï¼Ÿ</h2><div class="inventory-grid">
        <div class="item-chip" id="gps-btn" onclick="getPreciseLocation(3)">ç¾åœ¨åœ°ã‚’å–å¾—</div>
        <div class="item-chip" onclick="quickSave(3, 'æœ¬é€šå‘¨è¾º')">æœ¬é€šå‘¨è¾º</div>
        <div class="item-chip" onclick="quickSave(3, 'åºƒå³¶é§…')">åºƒå³¶é§…</div>
        <div class="item-chip" style="background: rgba(103, 163, 139, 0.1); border: 1px dashed var(--accent-green);" onclick="openMap(3)">åœ°å›³ã‚’é–‹ã</div>
    </div><input type="text" id="q3_free" class="free-input" placeholder="å ´æ‰€ãƒ»ä½æ‰€ã‚’å…¥åŠ›..." onkeydown="if(event.key==='Enter') save(3, this.value)"></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã„ã¤ ã„ãï¼Ÿ</h2><div class="slot-container" id="slot4"><div class="slot-reel"></div><div class="slot-overlay"></div></div>
    <input type="text" id="q4_free" class="free-input" placeholder="è‡ªç”±æŒ‡å®šã¯ã“ã¡ã‚‰..."><button class="btn-main" onclick="saveSlot(4)">ã“ã®æ™‚é–“ã«ï¼</button></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã‚ˆã•ã‚“ã¯ï¼Ÿ</h2><div class="slot-container" id="slot5"><div class="slot-reel"></div><div class="slot-overlay"></div></div>
    <button class="btn-main" onclick="saveSlot(5)">ã“ã®äºˆç®—ã§ï¼</button></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã©ã†ã‚„ã£ã¦ ã„ãï¼Ÿ</h2><div class="inventory-grid">
        <div class="item-chip" onclick="quickSave(6, 'å¾’æ­©')">ã‚ã‚‹ã</div> <div class="item-chip" onclick="quickSave(6, 'å…¬å…±äº¤é€šæ©Ÿé–¢')">é›»è»Šãƒ»ãƒã‚¹</div>
        <div class="item-chip" onclick="quickSave(6, 'è»Š')">è»Š</div><div class="item-chip" onclick="quickSave(6, 'ã‚¿ã‚¯ã‚·ãƒ¼')">ã‚¿ã‚¯ã‚·ãƒ¼</div>
    </div></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã¦ãƒ¼ã¾ã¯ï¼Ÿ</h2><div class="inventory-grid">
        <div class="item-chip" onclick="quickSave(7, 'ç‰¹ã«ãªã—')">ç‰¹ã«ãªã—</div><div class="item-chip" onclick="quickSave(7, 'ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«')">ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</div>
        <div class="item-chip" onclick="quickSave(7, 'ã‚†ã£ãŸã‚Šãƒ»é™ã‹')">ã‚†ã£ãŸã‚Š</div><div class="item-chip" onclick="quickSave(7, 'æ˜ ãˆãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰')">æ˜ ãˆ</div>
        <div class="item-chip" onclick="quickSave(7, 'ç‰¹åˆ¥')">ç‰¹åˆ¥</div><div class="item-chip" onclick="quickSave(7, 'éš ã‚Œå®¶ãƒ»ç©´å ´')">ç©´å ´</div>
    </div></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã“ã ã‚ã‚Š</h2><textarea id="q8" placeholder="ï¼ˆãªã‘ã‚Œã°ç©ºæ¬„ï¼‰"></textarea><button class="btn-main" onclick="next()">æ¬¡ã¸</button></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ï¼®ï¼§ï¼</h2><textarea id="q9" placeholder="ï¼ˆãªã‘ã‚Œã°ç©ºæ¬„ï¼‰"></textarea><button class="btn-main" onclick="next()">æœ€çµ‚ç¢ºèªã¸</button></div></div>

    <div class="card"><div class="window"><h2>â˜ï¸ ã˜ã‚…ã‚“ã³ OKï¼</h2><div id="summary"></div>
    <button class="btn-main" style="background:var(--accent-orange); box-shadow:0 4px 0 #d47e4d;" onclick="finish()">SORAã‚’ã‚ˆã³ã ã™ï¼</button></div></div>
</div>

<script>
    let step = 0;
    const data = { q1:'', q2:[], q3:'', q4:'', q5:'', q6:'', q7:'', q8:'', q9:'' };
    const options = {
        4: ['ä»Šã™ã', '15åˆ†å¾Œ', '30åˆ†å¾Œ', '1æ™‚é–“å¾Œ'],
        5: ['ç‰¹ã«ãªã—', 'ï½1000å††', 'ï½2000å††', 'ï½3000å††', 'ï½5000å††', 'ï½10000å††', 'ä¸Šé™ãªã—']
    };
    const slotState = { 4: 0, 5: 0 };

    function toggleBGPanel() {
        const p = document.getElementById('bg-panel');
        p.style.display = (p.style.display === 'block') ? 'none' : 'block';
    }

    function applyBG(val) {
        if(!val) return;
        const bg = document.getElementById('sky-bg');
        bg.style.backgroundImage = 'none'; 
        if (val === 'default') {
            bg.style.backgroundColor = '#a3c1da';
        } else if (val.startsWith('data:image')) {
            bg.style.background = `url(${val}) center center / cover no-repeat fixed`;
        } else {
            bg.style.backgroundColor = val;
            document.getElementById('color-picker').value = rgbToHex(val);
        }
        localStorage.setItem('sora_bg_v7_solid', val);
    }

    function registerPreset(id) {
        const color = document.getElementById('color-picker').value;
        const el = document.getElementById(id);
        el.style.backgroundColor = color;
        localStorage.setItem('sora_preset_v7_' + id, color);
    }

    document.querySelectorAll('.dot').forEach(dot => {
        let timer;
        dot.addEventListener('touchstart', (e) => { if(dot.id) timer = setTimeout(() => registerPreset(dot.id), 800); });
        dot.addEventListener('touchend', () => clearTimeout(timer));
    });

    function rgbToHex(rgb) {
        if (rgb.startsWith('#')) return rgb;
        const match = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
        if (!match) return '#a3c1da';
        const hex = (x) => ("0" + parseInt(x).toString(16)).slice(-2);
        return "#" + hex(match[1]) + hex(match[2]) + hex(match[3]);
    }

    function uploadBG(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = (e) => applyBG(e.target.result);
            reader.readAsDataURL(input.files[0]);
        }
    }

    function loadBG() {
        ['p1', 'p2', 'p3'].forEach(id => {
            const saved = localStorage.getItem('sora_preset_v7_' + id);
            document.getElementById(id).style.backgroundColor = saved || '#ffffff';
        });
        const savedBG = localStorage.getItem('sora_bg_v7_solid');
        if (savedBG) applyBG(savedBG);
    }

    function openMap(n) {
        const addr = document.getElementById(`q${n}_free`).value;
        let url = 'https://www.google.com/maps';
        if (addr) { url = `https://www.google.com/maps/search/${encodeURIComponent(addr)}`; }
        window.open(url, '_blank');
    }

    async function getPreciseLocation(n) {
        const btn = document.getElementById('gps-btn');
        const input = document.getElementById(`q${n}_free`);
        if (!navigator.geolocation) return alert("éå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ã§ã™");
        btn.innerText = "å–å¾—ä¸­...";
        navigator.geolocation.getCurrentPosition(async (position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            try {
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&accept-language=ja`);
                const resData = await response.json();
                const address = resData.display_name || `${lat}, ${lon}`;
                input.value = address;
                data[`q${n}`] = address;
                btn.innerText = "å–å¾—å®Œäº†ï¼";
                setTimeout(() => next(), 600);
            } catch (error) {
                input.value = `${lat}, ${lon}`;
                data[`q${n}`] = `${lat}, ${lon}`;
                next();
            }
        }, (error) => {
            alert("å¤±æ•—ã—ã¾ã—ãŸã€‚");
            btn.innerText = "ç¾åœ¨åœ°ã‚’å–å¾—";
        }, { enableHighAccuracy: true, timeout: 5000 });
    }

    function initSlots() {
        loadBG();
        [4, 5].forEach(n => {
            const reel = document.querySelector(`#slot${n} .slot-reel`);
            reel.innerHTML = `<div class="slot-item"></div>` + options[n].map(opt => `<div class="slot-item">${opt}</div>`).join('') + `<div class="slot-item"></div>`;
            let startY, moveY = 0;
            reel.addEventListener('touchstart', e => { startY = e.touches[0].pageY; }, {passive: true});
            reel.addEventListener('touchmove', e => {
                moveY = e.touches[0].pageY - startY;
                reel.style.transform = `translateY(${-(slotState[n] * 40) + moveY}px)`;
            }, {passive: true});
            reel.addEventListener('touchend', e => {
                const diff = Math.round(moveY / 40);
                slotState[n] = Math.max(0, Math.min(options[n].length - 1, slotState[n] - diff));
                reel.style.transform = `translateY(-${slotState[n] * 40}px)`;
                updateSlotStyle(n);
                moveY = 0;
            });
            reel.style.transform = `translateY(0px)`;
            updateSlotStyle(n);
        });
    }

    function updateSlotStyle(n) {
        const items = document.querySelectorAll(`#slot${n} .slot-item`);
        items.forEach((it, idx) => it.className = (idx === slotState[n] + 1) ? 'slot-item active' : 'slot-item');
    }

    function saveSlot(n) {
        const free = document.getElementById(`q${n}_free`)?.value;
        data[`q${n}`] = free || options[n][slotState[n]];
        next();
    }

    function quickSave(n, val) { 
        data[`q${n}`] = val; 
        const input = document.getElementById(`q${n}_free`);
        if(input) input.value = val;
        setTimeout(() => next(), 300);
    }

    function save(n, val) { data[`q${n}`] = val; next(); }
    function toggleItem(el, val) { el.classList.toggle('selected'); const idx = data.q2.indexOf(val); if (idx > -1) data.q2.splice(idx, 1); else data.q2.push(val); }
    function nextMulti() { const free = document.getElementById('q2_free').value; if(free) data.q2.push(free); if(data.q2.length === 0) return alert("ãªã«ã‹é¸ã‚“ã§ã­ï¼"); next(); }
    function next() { if(step < 9) { step++; update(); } }
    function prev() { if(step > 0) { step--; update(); } }

    function update() {
        document.getElementById('viewport').style.transform = `translateX(-${step * 100}%)`;
        document.getElementById('progress').style.width = `${(step / 9) * 100}%`;
        document.getElementById('btn-back').style.display = step > 0 ? 'block' : 'none';
        if(step === 9) {
            data.q8 = document.getElementById('q8').value || 'ãªã—'; 
            data.q9 = document.getElementById('q9').value || 'ãªã—';
            document.getElementById('summary').innerHTML = `<b>â– ã ã‚Œã¨ï¼š</b>${data.q1}<br><b>â– ãªã«ã‚’ï¼š</b>${data.q2.join('ãƒ»')}<br><b>â– å ´æ‰€ï¼š</b>${data.q3}<br><b>â– æ™‚é–“ï¼š</b>${data.q4}<br><b>â– äºˆç®—ï¼š</b>${data.q5}<br><b>â– ç§»å‹•ï¼š</b>${data.q6}<br><b>â– ãƒ†ãƒ¼ãƒï¼š</b>${data.q7}`;
        }
    }

    async function finish() {
        const text = `ã€ã‚½ãƒ©ã¸ã®æ³¨æ–‡ç¥¨ã€‘\nâ– æ§‹æˆãƒ»äººæ•°ï¼š${data.q1}\nâ– ç›®çš„ï¼š${data.q2.join('ãƒ»')}\nâ– å ´æ‰€ï¼š${data.q3}\nâ– æ—¥ç¨‹ãƒ»æ™‚é–“å¸¯ï¼š${data.q4}\nâ– äºˆç®—ï¼š${data.q5}\nâ– ç§»å‹•æ‰‹æ®µï¼š${data.q6}\nâ– ãƒ†ãƒ¼ãƒï¼š${data.q7}\nâ– ã“ã ã‚ã‚Šï¼š${data.q8}\nâ– NGæ¡ä»¶ï¼š${data.q9}`;
        try {
            await navigator.clipboard.writeText(text);
            const btn = document.querySelector('.btn-main[onclick="finish()"]');
            btn.innerText = "ã‚³ãƒ”ãƒ¼å®Œäº†ï¼ç§»å‹•ã—ã¾ã™...";
            btn.style.background = "#67a38b";
            setTimeout(() => { window.location.href = "https://gemini.google.com/"; }, 300);
        } catch (err) { window.location.href = "https://gemini.google.com/"; }
    }
    window.onload = initSlots;
</script>
</body>
</html>
